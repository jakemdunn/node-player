{"version":3,"sources":["Application.js","Home.js","Login.js"],"names":["app","controller","$","flowtype","minimum","maximum","minFont","fontRatio","$scope","$q","ngPouch","LIBRARY_VIEW","songs","maxTracksShown","viewType","track","filter","doc","match","emit","_id","replace","refreshSongs","db","query","include_docs","then","results","total_rows","album","publish","all","AuthService","credentials","username","password","login"],"mappings":"AAAAA,IAAAC,WAAA,yBAAA,SAAA,WAGAC,EAAA,QAAAC,UACAC,QAAA,IACAC,QAAA,IACAC,QAAA,GACAC,UAAA,kBCPAP,IAAAC,WAAA,kBAAA,SAAA,KAAA,UAAA,eAAA,SAAAO,EAAAC,EAAAC,EAAAC,GAEAH,EAAAI,MACAJ,EAAAK,eAAA,GACAL,EAAAE,QAAAA,EACAF,EAAAM,SAAAH,EAAAI,MAEAP,EAAAQ,OAAA,SAAAC,GACAA,EAAA,IAAAC,MAAA,OAAAC,KAAAF,EAAAG,IAAAC,QAAA,cAAA,OAGAb,EAAAc,aAAA,WAEA,MAAAZ,GAAAa,GACAC,MAAAhB,EAAAQ,QAAAS,cAAA,IACAC,KAAA,SAAAC,GAGAnB,EAAAM,SAAAa,EAAAC,WAAApB,EAAAK,eACAF,EAAAkB,MACAlB,EAAAI,MAEAP,EAAAI,MAAAe,EAAA,QAKAjB,EAAAoB,QAAA,WACA,MAAArB,GAAAsB,IAAAvB,EAAAc,qBC5BAtB,IAAAC,WAAA,mBAAA,SAAA,cAAA,SAAAO,EAAAwB,GACAxB,EAAAyB,aACAC,SAAA,GACAC,SAAA,IAGA3B,EAAA4B,MAAA,SAAAH,GACAD,EAAAI,MAAAH,EAAAC,SAAAD,EAAAE","file":"controllers.js","sourcesContent":["app.controller( 'ApplicationController', ['$scope',function ApplicationController ( $scope ) {\n\t\n\t// Font sizing\n\t$('body').flowtype({\n\t\tminimum\t\t: 500,\n\t\tmaximum\t\t: 1000,\n\t\tminFont\t\t: 10,\n\t\tfontRatio\t: 71.428571429 // For base font of 14px at 1000px wide (1000/14)\n\t});\n}]);","app.controller( 'HomeController', ['$scope', '$q', 'ngPouch', 'LIBRARY_VIEW', function HomeController ( $scope, $q, ngPouch, LIBRARY_VIEW ) {\n\n\t$scope.songs;\n\t$scope.maxTracksShown = 50; // Number of songs we display in track view\n\t$scope.ngPouch = ngPouch;\n\t$scope.viewType = LIBRARY_VIEW.track;\n\n\t$scope.filter = function(doc){\n\t\tif(!doc['_id'].match(/^_/)) emit(doc._id.replace(/^\\/(A|The) /, '/'));\n\t}\n\t\n\t$scope.refreshSongs = function(){\n\n\t\treturn ngPouch.db\n\t\t\t.query($scope.filter,{include_docs:true})\n\t\t\t.then( function(results) {\n\t\t\t\t\n\t\t\t\t// If we have greater than $scope.maxTracksShown results, switch to album view\n\t\t\t\t$scope.viewType = (results.total_rows > $scope.maxTracksShown)\n\t\t\t\t\t? LIBRARY_VIEW.album\n\t\t\t\t\t: LIBRARY_VIEW.track;\n\n\t\t\t\t$scope.songs = results[\"rows\"];\n\t\t\t});\n\t}\n\n\t// Refresh on changes from the server\n\tngPouch.publish(function(){\n\t\treturn $q.all($scope.refreshSongs());\n\t});\n}]);","app.controller( 'LoginController', ['$scope', 'AuthService', function LoginController ( $scope, AuthService ) {\n\t$scope.credentials = {\n\t\tusername: '',\n\t\tpassword: ''\n\t};\n\n\t$scope.login = function (credentials) {\n\t\tAuthService.login(credentials.username,credentials.password);\n\t};\n}]);"],"sourceRoot":"/source/"}